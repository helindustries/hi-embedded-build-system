# 50 100 120 125 133 150 -> OC 175 200 225 240 250 275 300
CPU_SPEED = 150
CPU = rp2350
CPUARCH = cortex-m33

USB = yes
USB_VENDOR ?= Adafruit
USB_PRODUCT ?= Feather RP2350 HSTX
USB_VID = 0x239a
USB_PID = 0x814f
USB_PROG_PID = 0x014f

RPI_FLASH_LENGTH := 8380416
RPI_EEPROM_START := 276815872
RPI_FS_START := 276815872
RPI_FS_END := 276815872
RPI_RAM_SIZE := 512k
RPI_PSRAM_SIZE := 0x000000

CPPFLAGS += -DUSE_TINYUSB -DUSBD_MAX_POWER_MA=250 -DARDUINO_ADAFRUIT_FEATHER_RP2350_HSTX -DPICO_USE_BLOCKED_RAM=0
CPPFLAGS += -DPICO_CYW43_ARCH_THREADSAFE_BACKGROUND=1 -DLIB_PICO_ATOMIC=1 -DLIB_PICO_SYNC_CRITICAL_SECTION=1
CPPFLAGS += -DLIB_PICO_SYNC_MUTEX=1 -DLIB_PICO_SYNC_SEM=1 -DLIB_TINYUSB_BOARD=1 -DLIB_TINYUSB_DEVICE=1
CPPFLAGS += -DPICO_BOARD=\"solderparty_rp2350_stamp_xl\" -DPICO_RP2040_USB_DEVICE_ENUMERATION_FIX=1
CPPFLAGS += -DPICO_RP2040_USB_DEVICE_UFRAME_FIX=1 -DPICO_RP2350=1
CPPFLAGS += -march=armv8-m.main+fp+dsp -mfloat-abi=softfp -mcmse -Werror=return-type -Wno-psabi
RPI_PICOTOOL_FAMILY = rp2350-arm-s
CPU_DEVICE_RATE = 57600

include $(MAKE_INC_PATH)/Devices/CPU/Base/RPI.mk

upload_feather-rpi2350-hstx: upload_rpi

upload_feather-rpi2350-hstx_jtag: upload_arm_jtag

.PHONY: upload_feather-rpi2350-hstx upload_feather-rpi2350-hstx_jtag
